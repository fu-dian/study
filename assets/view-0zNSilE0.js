import{C as e,E as t,b as n,c as r,d as i,k as a,l as o,m as s,n as c,o as l,p as u,r as d,s as f,t as p,u as m,v as h,w as g}from"./index-Cx-B8WFz.js";import{A as _,C as v,D as y,F as b,N as x,O as S,P as C,T as w,a as T,c as E,i as D,n as O,o as k,p as A,r as j,t as M,v as N,w as P,x as F,y as I}from"./icon-BstiDU8M.js";function L(e,{args:t=[],done:n,canceled:r,error:i}){if(e){let a=e.apply(null,t);C(a)?a.then(e=>{e?n():r&&r()}).catch(i||b):a?n():r&&r()}else n()}var R=Symbol();function ee(e){let t=i(R,null);t&&g(t,t=>{t&&e()})}var z=(e,t)=>{let n=a(),r=()=>{n.value=P(e).height};return h(()=>{if(s(r),t)for(let e=1;e<=3;e++)setTimeout(r,100*e)}),ee(()=>s(r)),g([I,N],r),n};function B(e,t){let n=z(e,!0);return e=>r(`div`,{class:t(`placeholder`),style:{height:n.value?`${n.value}px`:void 0}},[e()])}var[V,H]=E(`tabbar`),U={route:Boolean,fixed:S,border:S,zIndex:y,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:w(0),safeAreaInsetBottom:{type:Boolean,default:null}},W=Symbol(V),G=o({name:V,props:U,emits:[`change`,`update:modelValue`],setup(e,{emit:t,slots:n}){let i=a(),{linkChildren:o}=F(W),s=B(i,H),c=()=>e.safeAreaInsetBottom??e.fixed,l=()=>{let{fixed:t,zIndex:a,border:o}=e;return r(`div`,{ref:i,role:`tablist`,style:A(a),class:[H({fixed:t}),{[k]:o,"van-safe-area-bottom":c()}]},[n.default?.call(n)])};return o({props:e,setActive:(n,r)=>{L(e.beforeChange,{args:[n],done(){t(`update:modelValue`,n),t(`change`,n),r()}})}}),()=>e.fixed&&e.placeholder?s(l):l()}}),K=T(G),[q,J]=E(`tabbar-item`),Y=_({},j,{dot:Boolean,icon:String,name:y,badge:y,badgeProps:Object,iconPrefix:String}),X=o({name:q,props:Y,emits:[`click`],setup(e,{emit:t,slots:n}){let i=D(),a=m().proxy,{parent:o,index:s}=v(W);if(!o)return;let c=d(()=>{let{route:t,modelValue:n}=o.props;if(t&&`$route`in a){let{$route:t}=a,{to:n}=e,r=x(n)?n:{path:n};return t.matched.some(e=>{let t=`path`in r&&r.path===e.path,n=`name`in r&&r.name===e.name;return t||n})}return(e.name??s.value)===n}),l=n=>{c.value||o.setActive(e.name??s.value,i),t(`click`,n)},f=()=>{if(n.icon)return n.icon({active:c.value});if(e.icon)return r(M,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{let{dot:t,badge:i}=e,{activeColor:a,inactiveColor:s}=o.props,d=c.value?a:s;return r(`div`,{role:`tab`,class:J({active:c.value}),style:{color:d},tabindex:0,"aria-selected":c.value,onClick:l},[r(O,u({dot:t,class:J(`icon`),content:i},e.badgeProps),{default:f}),r(`div`,{class:J(`text`)},[n.default?.call(n,{active:c.value})])])}}}),Z=T(X),Q={};function $(i,a){let o=e(`router-view`),s=Z,u=K;return n(),l(c,null,[r(o),r(u,{route:``},{default:t(()=>[r(s,{replace:``,to:`/home`,icon:`home-o`},{default:t(()=>[...a[0]||=[f(`首页`,-1)]]),_:1}),r(s,{replace:``,to:`/search`,icon:`search`},{default:t(()=>[...a[1]||=[f(`搜索`,-1)]]),_:1})]),_:1})],64)}var te=p(Q,[[`render`,$]]);export{te as default};