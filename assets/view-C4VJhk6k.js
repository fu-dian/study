import{C as e,D as t,b as n,c as r,j as i,l as a,n as o,o as s,p as c,r as l,s as u,t as d,u as f}from"./index-Che1PTwn.js";import{A as p,D as m,F as h,H as g,L as _,M as v,P as y,U as b,V as x,_ as S,c as C,f as w,i as T,n as E,o as D,r as O,t as k}from"./icon-5q6F63b3.js";import{t as A}from"./use-placeholder-BTYfpebp.js";function j(e,{args:t=[],done:n,canceled:r,error:i}){if(e){let a=e.apply(null,t);g(a)?a.then(e=>{e?n():r&&r()}).catch(i||b):a?n():r&&r()}else n()}var[M,N]=w(`tabbar`),P={route:Boolean,fixed:h,border:h,zIndex:y,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:v(0),safeAreaInsetBottom:{type:Boolean,default:null}},F=Symbol(M),I=a({name:M,props:P,emits:[`change`,`update:modelValue`],setup(e,{emit:t,slots:n}){let a=i(),{linkChildren:o}=m(F),s=A(a,N),c=()=>e.safeAreaInsetBottom??e.fixed,l=()=>{let{fixed:t,zIndex:i,border:o}=e;return r(`div`,{ref:a,role:`tablist`,style:S(i),class:[N({fixed:t}),{[C]:o,"van-safe-area-bottom":c()}]},[n.default?.call(n)])};return o({props:e,setActive:(n,r)=>{j(e.beforeChange,{args:[n],done(){t(`update:modelValue`,n),t(`change`,n),r()}})}}),()=>e.fixed&&e.placeholder?s(l):l()}}),L=D(I),[R,z]=w(`tabbar-item`),B=_({},O,{dot:Boolean,icon:String,name:y,badge:y,badgeProps:Object,iconPrefix:String}),V=a({name:R,props:B,emits:[`click`],setup(e,{emit:t,slots:n}){let i=T(),a=f().proxy,{parent:o,index:s}=p(F);if(!o)return;let u=l(()=>{let{route:t,modelValue:n}=o.props;if(t&&`$route`in a){let{$route:t}=a,{to:n}=e,r=x(n)?n:{path:n};return t.matched.some(e=>{let t=`path`in r&&r.path===e.path,n=`name`in r&&r.name===e.name;return t||n})}return(e.name??s.value)===n}),d=n=>{u.value||o.setActive(e.name??s.value,i),t(`click`,n)},m=()=>{if(n.icon)return n.icon({active:u.value});if(e.icon)return r(k,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{let{dot:t,badge:i}=e,{activeColor:a,inactiveColor:s}=o.props,l=u.value?a:s;return r(`div`,{role:`tab`,class:z({active:u.value}),style:{color:l},tabindex:0,"aria-selected":u.value,onClick:d},[r(E,c({dot:t,class:z(`icon`),content:i},e.badgeProps),{default:m}),r(`div`,{class:z(`text`)},[n.default?.call(n,{active:u.value})])])}}}),H=D(V),U={};function W(i,a){let c=e(`router-view`),l=H,d=L;return n(),s(o,null,[r(c),r(d,{route:``},{default:t(()=>[r(l,{replace:``,to:`/home`,icon:`home-o`},{default:t(()=>[...a[0]||=[u(`首页`,-1)]]),_:1}),r(l,{replace:``,to:`/search`,icon:`search`},{default:t(()=>[...a[1]||=[u(`搜索`,-1)]]),_:1})]),_:1})],64)}var G=d(U,[[`render`,W]]);export{G as default};