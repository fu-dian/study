import{A as e,O as t,S as n,a as r,b as i,c as a,i as o,j as s,k as c,l,m as u,n as d,o as f,p,r as m,s as h,u as g,v as _,w as v,x as y}from"./index-Cx-B8WFz.js";import{A as b,C as x,D as S,E as C,I as w,L as T,M as ee,N as E,O as D,P as O,S as te,T as k,_ as A,a as j,b as ne,c as M,d as re,f as N,g as ie,h as P,i as F,j as I,k as L,l as R,m as ae,r as oe,s as se,t as z,u as ce}from"./icon-BstiDU8M.js";function le(e){let t=g();t&&b(t.proxy,e)}var[B,V]=M(`loading`),H=Array(12).fill(null).map((e,t)=>a(`i`,{class:V(`line`,String(t+1))},null)),U=a(`svg`,{class:V(`circular`),viewBox:`25 25 50 50`},[a(`circle`,{cx:`50`,cy:`50`,r:`20`,fill:`none`},null)]),W={size:S,type:C(`circular`),color:String,vertical:Boolean,textSize:S,textColor:String},G=l({name:B,props:W,setup(e,{slots:t}){let n=m(()=>b({color:e.color},N(e.size))),r=()=>{let r=e.type===`spinner`?H:U;return a(`span`,{class:V(`spinner`,e.type),style:n.value},[t.icon?t.icon():r])},i=()=>{if(t.default)return a(`span`,{class:V(`text`),style:{fontSize:R(e.textSize),color:e.textColor??e.color}},[t.default()])};return()=>{let{type:t,vertical:n}=e;return a(`div`,{class:V([t,{vertical:n}]),"aria-live":`polite`,"aria-busy":!0},[r(),i()])}}}),ue=j(G),K=0;function de(){let{name:e=`unknown`}=g()?.type||{};return`${e}-${++K}`}var[fe,q]=M(`cell`),J={tag:C(`div`),icon:String,size:String,title:S,value:S,label:S,center:Boolean,isLink:Boolean,border:D,iconPrefix:String,valueClass:null,labelClass:null,titleClass:null,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},pe=b({},J,oe),me=l({name:fe,props:pe,setup(e,{slots:t}){let n=F(),r=()=>{if(t.label||I(e.label))return a(`div`,{class:[q(`label`),e.labelClass]},[t.label?t.label():e.label])},i=()=>{if(t.title||I(e.title)){let n=t.title?.call(t);return Array.isArray(n)&&n.length===0?void 0:a(`div`,{class:[q(`title`),e.titleClass],style:e.titleStyle},[n||a(`span`,null,[e.title]),r()])}},o=()=>{let n=t.value||t.default;if(n||I(e.value))return a(`div`,{class:[q(`value`),e.valueClass]},[n?n():a(`span`,null,[e.value])])},s=()=>{if(t.icon)return t.icon();if(e.icon)return a(z,{name:e.icon,class:q(`left-icon`),classPrefix:e.iconPrefix},null)},c=()=>{if(t[`right-icon`])return t[`right-icon`]();if(e.isLink){let t=e.arrowDirection&&e.arrowDirection!==`right`?`arrow-${e.arrowDirection}`:`arrow`;return a(z,{name:t,class:q(`right-icon`)},null)}};return()=>{let{tag:r,size:l,center:u,border:d,isLink:f,required:p}=e,m=e.clickable??f,h={center:u,required:!!p,clickable:m,borderless:!d};return l&&(h[l]=!!l),a(r,{class:q(h),role:m?`button`:void 0,tabindex:m?0:void 0,onClick:n},{default:()=>[s(),i(),o(),c(),t.extra?.call(t)]})}}}),he=j(me);function ge(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function _e(e,t){if(ge(e)){if(t.required)return!1;if(t.validateEmpty===!1)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}function ve(e,t){return new Promise(n=>{let r=t.validator(e,t);if(O(r)){r.then(n);return}n(r)})}function ye(e,t){let{message:n}=t;return ee(n)?n(e,t):n||``}function be({target:e}){e.composing=!0}function xe({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event(`input`)))}function Se(e,t){let n=ae();e.style.height=`auto`;let r=e.scrollHeight;if(E(t)){let{maxHeight:e,minHeight:n}=t;e!==void 0&&(r=Math.min(r,e)),n!==void 0&&(r=Math.max(r,n))}r&&(e.style.height=`${r}px`,A(n))}function Ce(e,t){return e===`number`&&(e=`text`,t??=`decimal`),e===`digit`&&(e=`tel`,t??=`numeric`),{type:e,inputmode:t}}function Y(e){return[...e].length}function X(e,t){return[...e].slice(0,t).join(``)}var[we,Z]=M(`field`),Q={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:S,max:Number,min:Number,formatter:Function,clearIcon:C(`clear`),modelValue:k(``),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:C(`focus`),formatTrigger:C(`onChange`),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},inputmode:String},Te=b({},J,Q,{rows:S,type:C(`text`),rules:Array,autosize:[Boolean,Object],labelWidth:S,labelClass:null,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}}),Ee=l({name:we,props:Te,emits:[`blur`,`focus`,`clear`,`keypress`,`clickInput`,`endValidate`,`startValidate`,`clickLeftIcon`,`clickRightIcon`,`update:modelValue`],setup(e,{emit:n,slots:r}){let i=de(),o=t({status:`unvalidated`,focused:!1,validateMessage:``}),s=c(),l=c(),d=c(),{parent:f}=x(se),g=()=>String(e.modelValue??``),b=t=>{if(I(e[t]))return e[t];if(f&&I(f.props[t]))return f.props[t]},S=m(()=>{let t=b(`readonly`);if(e.clearable&&!t){let t=g()!==``,n=e.clearTrigger===`always`||e.clearTrigger===`focus`&&o.focused;return t&&n}return!1}),C=m(()=>d.value&&r.input?d.value():e.modelValue),w=m(()=>{let t=b(`required`);return t===`auto`?e.rules?.some(e=>e.required):t}),ee=e=>e.reduce((e,t)=>e.then(()=>{if(o.status===`failed`)return;let{value:e}=C;if(t.formatter&&(e=t.formatter(e,t)),!_e(e,t)){o.status=`failed`,o.validateMessage=ye(e,t);return}if(t.validator)return ge(e)&&t.validateEmpty===!1?void 0:ve(e,t).then(n=>{n&&typeof n==`string`?(o.status=`failed`,o.validateMessage=n):n===!1&&(o.status=`failed`,o.validateMessage=ye(e,t))})}),Promise.resolve()),E=()=>{o.status=`unvalidated`,o.validateMessage=``},D=()=>n(`endValidate`,{status:o.status,message:o.validateMessage}),O=(t=e.rules)=>new Promise(r=>{E(),t?(n(`startValidate`),ee(t).then(()=>{o.status===`failed`?(r({name:e.name,message:o.validateMessage}),D()):(o.status=`passed`,r(),D())})):r()}),k=t=>{if(f&&e.rules){let{validateTrigger:n}=f.props,r=T(n).includes(t),i=e.rules.filter(e=>e.trigger?T(e.trigger).includes(t):r);i.length&&O(i)}},A=t=>{let{maxlength:n}=e;if(I(n)&&Y(t)>+n){let e=g();if(e&&Y(e)===+n)return e;let r=s.value?.selectionEnd;if(o.focused&&r){let e=[...t],i=e.length-+n;return e.splice(r-i,i),e.join(``)}return X(t,+n)}return t},j=(t,r=`onChange`)=>{let i=t;t=A(t);let a=Y(i)-Y(t);if(e.type===`number`||e.type===`digit`){let n=e.type===`number`;if(t=re(t,n,n),r===`onBlur`&&t!==``&&(e.min!==void 0||e.max!==void 0)){let n=ce(+t,e.min??-1/0,e.max??1/0);+t!==n&&(t=n.toString())}}let c=0;if(e.formatter&&r===e.formatTrigger){let{formatter:n,maxlength:r}=e;if(t=n(t),I(r)&&Y(t)>+r&&(t=X(t,+r)),s.value&&o.focused){let{selectionEnd:e}=s.value,t=X(i,e);c=Y(n(t))-Y(t)}}if(s.value&&s.value.value!==t)if(o.focused){let{selectionStart:e,selectionEnd:n}=s.value;if(s.value.value=t,I(e)&&I(n)){let r=Y(t);a?(e-=a,n-=a):c&&(e+=c,n+=c),s.value.setSelectionRange(Math.min(e,r),Math.min(n,r))}}else s.value.value=t;t!==e.modelValue&&n(`update:modelValue`,t)},M=e=>{e.target.composing||j(e.target.value)},N=()=>s.value?.blur(),F=()=>s.value?.focus(),L=()=>{let t=s.value;e.type===`textarea`&&e.autosize&&t&&Se(t,e.autosize)},ae=e=>{o.focused=!0,n(`focus`,e),u(L),b(`readonly`)&&N()},oe=e=>{o.focused=!1,j(g(),`onBlur`),n(`blur`,e),!b(`readonly`)&&(k(`onBlur`),u(L),ie())},B=e=>n(`clickInput`,e),V=e=>n(`clickLeftIcon`,e),H=e=>n(`clickRightIcon`,e),U=e=>{P(e),n(`update:modelValue`,``),n(`clear`,e)},W=m(()=>{if(typeof e.error==`boolean`)return e.error;if(f&&f.props.showError&&o.status===`failed`)return!0}),G=m(()=>{let e=b(`labelWidth`),t=b(`labelAlign`);if(e&&t!==`top`)return{width:R(e)}}),ue=t=>{t.keyCode===13&&(!(f&&f.props.submitOnEnter)&&e.type!==`textarea`&&P(t),e.type===`search`&&N()),n(`keypress`,t)},K=()=>e.id||`${i}-input`,fe=()=>o.status,q=()=>{let t=Z(`control`,[b(`inputAlign`),{error:W.value,custom:!!r.input,"min-height":e.type===`textarea`&&!e.autosize}]);if(r.input)return a(`div`,{class:t,onClick:B},[r.input()]);let n={id:K(),ref:s,name:e.name,rows:e.rows===void 0?void 0:+e.rows,class:t,disabled:b(`disabled`),readonly:b(`readonly`),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?`${i}-label`:void 0,"data-allow-mismatch":`attribute`,onBlur:oe,onFocus:ae,onInput:M,onClick:B,onChange:xe,onKeypress:ue,onCompositionend:xe,onCompositionstart:be};return e.type===`textarea`?a(`textarea`,p(n,{inputmode:e.inputmode}),null):a(`input`,p(Ce(e.type,e.inputmode),n),null)},J=()=>{let t=r[`left-icon`];if(e.leftIcon||t)return a(`div`,{class:Z(`left-icon`),onClick:V},[t?t():a(z,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},pe=()=>{let t=r[`right-icon`];if(e.rightIcon||t)return a(`div`,{class:Z(`right-icon`),onClick:H},[t?t():a(z,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},me=()=>{if(e.showWordLimit&&e.maxlength){let t=Y(g());return a(`div`,{class:Z(`word-limit`)},[a(`span`,{class:Z(`word-num`)},[t]),h(`/`),e.maxlength])}},we=()=>{if(f&&f.props.showErrorMessage===!1)return;let t=e.errorMessage||o.validateMessage;if(t){let e=r[`error-message`],n=b(`errorMessageAlign`);return a(`div`,{class:Z(`error-message`,n)},[e?e({message:t}):t])}},Q=()=>{let t=b(`labelWidth`),n=b(`labelAlign`),o=b(`colon`)?`:`:``;if(r.label)return[r.label(),o];if(e.label)return a(`label`,{id:`${i}-label`,for:r.input?void 0:K(),"data-allow-mismatch":`attribute`,onClick:e=>{P(e),F()},style:n===`top`&&t?{width:R(t)}:void 0},[e.label+o])},Te=()=>[a(`div`,{class:Z(`body`)},[q(),S.value&&a(z,{ref:l,name:e.clearIcon,class:Z(`clear`)},null),pe(),r.button&&a(`div`,{class:Z(`button`)},[r.button()])]),me(),we()];return le({blur:N,focus:F,validate:O,formValue:C,resetValidation:E,getValidationStatus:fe}),y(ne,{customValue:d,resetValidation:E,validateWithTrigger:k}),v(()=>e.modelValue,()=>{j(g()),E(),k(`onChange`),u(L)}),_(()=>{j(g(),e.formatTrigger),u(L)}),te(`touchstart`,U,{target:m(()=>l.value?.$el)}),()=>{let t=b(`disabled`),n=b(`labelAlign`),i=J(),o=()=>{let e=Q();return n===`top`?[i,e].filter(Boolean):e||[]};return a(he,{size:e.size,class:Z({error:W.value,disabled:t,[`label-${n}`]:n}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:G.value,valueClass:Z(`value`),titleClass:[Z(`label`,[n,{required:w.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:i&&n!==`top`?()=>i:null,title:o,value:Te,extra:r.extra})}}}),De=j(Ee),[Oe,$,ke]=M(`search`),Ae=b({},Q,{label:String,shape:C(`square`),leftIcon:C(`search`),clearable:D,actionText:String,background:String,showAction:Boolean}),je=l({name:Oe,props:Ae,emits:[`blur`,`focus`,`clear`,`search`,`cancel`,`clickInput`,`clickLeftIcon`,`clickRightIcon`,`update:modelValue`],setup(e,{emit:t,slots:n,attrs:r}){let i=de(),o=c(),s=()=>{n.action||(t(`update:modelValue`,``),t(`cancel`))},l=n=>{n.keyCode===13&&(P(n),t(`search`,e.modelValue))},u=()=>e.id||`${i}-input`,d=()=>{if(n.label||e.label)return a(`label`,{class:$(`label`),for:u(),"data-allow-mismatch":`attribute`},[n.label?n.label():e.label])},f=()=>{if(e.showAction){let t=e.actionText||ke(`cancel`);return a(`div`,{class:$(`action`),role:`button`,tabindex:0,onClick:s},[n.action?n.action():t])}},m=()=>o.value?.blur(),h=()=>o.value?.focus(),g=e=>t(`blur`,e),_=e=>t(`focus`,e),v=e=>t(`clear`,e),y=e=>t(`clickInput`,e),x=e=>t(`clickLeftIcon`,e),S=e=>t(`clickRightIcon`,e),C=Object.keys(Q),T=()=>{let i=b({},r,w(e,C),{id:u()}),s=e=>t(`update:modelValue`,e);return a(De,p({ref:o,type:`search`,class:$(`field`,{"with-message":i.errorMessage}),border:!1,onBlur:g,onFocus:_,onClear:v,onKeypress:l,onClickInput:y,onClickLeftIcon:x,onClickRightIcon:S,"onUpdate:modelValue":s},i),w(n,[`left-icon`,`right-icon`]))};return le({focus:h,blur:m}),()=>a(`div`,{class:$({"show-action":e.showAction}),style:{background:e.background}},[n.left?.call(n),a(`div`,{class:$(`content`,e.shape)},[d(),T()]),f()])}}),Me=j(je),Ne=`/study/assets/R-C-BENiU_a_.jpg`,Pe=`/study/assets/OIP-C%20(2)-Cfsazr-s.jpg`,Fe=`/study/assets/cc1-DuZMW3k_.jpg`,Ie=`/study/assets/OIP-C%20(2)-D2yKAtof.webp`,Le={class:`content`},Re={class:`img`,key:`item.id`},ze=[`src`,`alt`],Be=[`href`],Ve={__name:`search`,setup(t){let l=c(``),u=c(),p=c(),m=c(!0),h=c([]),g=c([{id:1,name:`三上悠亚`,url:Ne,num:[`SSNI-674`,`SSIS-604`,`SSIS-777`]},{id:2,name:`枫可怜`,url:Pe,num:[`IPZZ-281`,`IPX-398`,`IPX-352`]},{id:3,name:`濑户环奈`,url:Fe,num:[`SSNI-674`,`SSIS-604`]},{id:4,name:`明里紬`,url:Ie,num:[`IPX-730`,`IPX-991`,`IPX-618`]}]);_(()=>{setTimeout(()=>{m.value=!1},3e3)});function v(e){let t=``;for(let n=0;n<e.length;n++)t+=e.charCodeAt(n).toString(16).padStart(2,`0`);return t}let y=()=>{if(u=g.value[0].num.length,console.log(g.value[0].num.length),p=Math.floor(Math.random()*u),!l.value){h.value=[];return}let e=l.value.toLowerCase();h.value=g.value.filter(t=>t.name.toLowerCase().includes(e))};return(t,c)=>{let u=Me,g=ue;return i(),f(d,null,[a(u,{modelValue:l.value,"onUpdate:modelValue":c[0]||=e=>l.value=e,placeholder:`请输入搜索关键词`,"wrap-with-form":``,"show-action":``,onSearch:y,onCancel:t.onCancel},null,8,[`modelValue`,`onCancel`]),o(`div`,Le,[(i(!0),f(d,null,n(h.value,t=>(i(),f(`div`,Re,[m.value?(i(),r(g,{key:0})):(i(),f(`img`,{key:1,src:t.url,alt:t.name},null,8,ze)),c[1]||=o(`br`,null,null,-1),o(`a`,{href:`https://www.cilifan.top/search/${v(`${t.num[e(p)]}`)}_1_id.html`},s(t.num[e(p)]),9,Be)]))),128))])],64)}}};export{Ve as default};